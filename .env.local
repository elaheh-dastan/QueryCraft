# ============================================
# QueryCraft Local Development Configuration
# ============================================
# This file is pre-configured for HYBRID MODE:
# - Django runs locally on your machine
# - PostgreSQL and Ollama run in Docker containers
#
# SETUP INSTRUCTIONS:
# ============================================
#
# 1. Start Docker services (database + Ollama):
#    docker compose up db ollama
#
# 2. Wait for services to be ready (check logs):
#    - PostgreSQL: "database system is ready to accept connections"
#    - Ollama: "Ollama service is running"
#
# 3. Apply migrations (first time only):
#    python manage.py migrate
#
# 4. (Optional) Create admin user:
#    python manage.py createsuperuser
#
# 5. (Optional) Seed database with sample data:
#    python manage.py seed_db
#
# 6. Start Django development server:
#    python manage.py runserver
#
# 7. Access the application:
#    http://localhost:8000
#
# ============================================

# ==========================================
# Django Configuration
# ==========================================

# Use default development secret key (change for production)
# SECRET_KEY=your-secret-key-here

# Enable debug mode for local development
DEBUG=1

# Allow connections from localhost
ALLOWED_HOSTS=localhost,127.0.0.1,*

# ==========================================
# Database Configuration
# ==========================================
# PostgreSQL is the default and only supported database.
# Django auto-detects and connects to localhost:5432 (Docker container).
#
# These are the defaults (no need to set unless changing):
# POSTGRES_DB=querycraft
# POSTGRES_USER=querycraft
# POSTGRES_PASSWORD=querycraft_password
# POSTGRES_HOST=localhost          # Auto-detected
# POSTGRES_PORT=5432

# ==========================================
# Ollama Configuration (HYBRID MODE)
# ==========================================

# Ollama URL is auto-detected as 'http://localhost:11434' when running locally
# Port must match what's exposed in docker-compose.yml
OLLAMA_PORT=11434

# Model name (should match the model loaded in Docker)
OLLAMA_MODEL_NAME=sqlcoder-7b-2:local

# ==========================================
# Optional: Development Helpers
# ==========================================

# Skip collectstatic during development (not needed for runserver)
# SKIP_COLLECTSTATIC=true

# ==========================================
# TROUBLESHOOTING
# ==========================================
#
# Issue: "Connection refused" when connecting to PostgreSQL
# Fix: Ensure Docker services are running: docker compose ps
#      PostgreSQL should show "healthy" status
#
# Issue: "Ollama not responding"
# Fix: Check Ollama logs: docker compose logs ollama
#      Ensure model is loaded: docker compose exec ollama ollama list
#
# Issue: "Database doesn't exist"
# Fix: Run migrations: python manage.py migrate
#
# Issue: "Port already in use"
# Fix: Stop other services using ports 5432 or 11434
#      Or change POSTGRES_PORT/OLLAMA_PORT in docker-compose.yml
#
# ==========================================
